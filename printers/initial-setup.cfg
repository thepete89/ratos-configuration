# WARNING. DO NOT EDIT THIS FILE.
# To override settings from this file, you can copy and paste the relevant
# sections into your printer.cfg and change it there.

# RatOS Initial Configuration
# Please Read the documentation: https://os.ratrig.com

[include ../macros/util.cfg]

[idle_timeout]
gcode:
  {% if printer.webhooks.state|lower == 'ready' %}
    {% if printer.pause_resume.is_paused|lower == 'false' %}
      RATOS_ECHO PREFIX="IDLE" MSG="2 hours since last activity. Powering off heaters and motors.."
      TURN_OFF_HEATERS
      M84
    {% endif %}
  {% endif %}
# 2 hour timeout
timeout: 7200

[temperature_sensor raspberry_pi]
sensor_type: temperature_host

[virtual_sdcard]
path: ~/printer_data/gcodes

[display_status]

[pause_resume]

[respond]

[ratos]

[mcu]
serial: /tmp/klipper_host_mcu

[printer]
kinematics: none
max_velocity: 1
max_accel: 1

[gcode_macro PAUSE]
rename_existing: PAUSE_BASE
gcode:
  RATOS_ECHO MSG="Please setup your printer through the RatOS configurator at /configure"

[gcode_macro RESUME]
rename_existing: RESUME_BASE
gcode:
  RATOS_ECHO MSG="Please setup your printer through the RatOS configurator at /configure"

[gcode_macro CANCEL_PRINT]
rename_existing: CANCEL_BASE
gcode:
  RATOS_ECHO MSG="Please setup your printer through the RatOS configurator at /configure"

[delayed_gcode RATOS_INIT]
initial_duration: 0.1
gcode:
  RATOS_ECHO MSG="Welcome to RatOS!"
  RATOS_ECHO MSG="Please setup your printer through the RatOS configurator. Use the link in the sidebar to proceed with the setup."

